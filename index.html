<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>とある未来への招待状</title>

<style>
body{
  font-family:sans-serif;
  background:#111;
  color:white;
  text-align:center;
  margin:0;
  padding:40px 20px;
  line-height:1.8;
  transition:opacity 1.5s ease;
}

h1{
  font-size:24px;
  letter-spacing:3px;
}

.section{
  opacity:0;
  transition:opacity 1.5s ease;
  max-width:500px;
  margin:40px auto;
}

.section.active{
  opacity:1;
}

input{
  padding:14px;
  font-size:16px;
  border-radius:6px;
  border:none;
  width:80%;
  max-width:300px;
  margin-top:15px;
}

button{
  padding:10px 25px;
  margin-top:20px;
  border:none;
  border-radius:20px;
  background:#ffffff;
  color:#111;
  cursor:pointer;
}

button:hover{opacity:0.8;}

.rotateHint{
  margin-top:30px;
  height:120px;
}

.hiddenWord{
  font-size:28px;
  letter-spacing:8px;
  opacity:0;
}

@media screen and (orientation: landscape) {
  .hiddenWord{opacity:1;}
}

.keyMessage{
  margin-top:15px;
  font-weight:bold;
  opacity:0;
  transition:opacity 0.8s ease;
}

.keyMessage.show{
  opacity:1;
}

.fadeOut{
  opacity:0;
}
</style>
</head>

<body>

<!-- 合言葉 -->
<div id="passwordBox" class="section active">
<p>この招待状には、合言葉が必要です。</p>
<input id="passwordInput" placeholder="合言葉を入力">
<br>
<button onclick="checkPassword()">開く</button>
</div>

<!-- タイトル演出 -->
<div id="titleScreen" class="section">
<h1>とある未来への招待状</h1>
</div>

<!-- 第一章 -->
<div id="intro" class="section">
<h2>第一章</h2>
<p>
特別な日にだけ届く「未来へ進むための招待状」。<br><br>
この招待状を開いたあなたには、<br>
鍵を集める資格がある。<br><br>
すべて揃ったとき、次の扉が開く。
</p>
<button onclick="startGame()">はじめる</button>
</div>

<!-- 問題エリア（積み上げ式） -->
<div id="gameArea" class="section">

<!-- Q1 -->
<div id="q1">
<h2>Q1</h2>
<p>
氷 ⇒ 〇 ⇒ 蒸気<br>
空欄に入るものをひらがなで答えよ。
</p>
<input id="a1">
<br>
<button onclick="checkQ1()">答える</button>
<div id="k1" class="keyMessage"></div>
</div>

<!-- Q2 -->
<div id="q2" style="display:none;">
<h2>Q2</h2>
<p>
火・太陽・インフル。<br>
共通するものをひらがなで答えよ。
</p>
<input id="a2">
<br>
<button onclick="checkQ2()">答える</button>
<div id="k2" class="keyMessage"></div>
</div>

<!-- Q3 -->
<div id="q3" style="display:none;">
<h2>Q3</h2>
<p>この画面の中に最後の鍵が隠されている。</p>
<div class="rotateHint">
<p class="hiddenWord">かぜ</p>
</div>
<input id="a3">
<br>
<button onclick="checkQ3()">答える</button>
<div id="k3" class="keyMessage"></div>
</div>

<!-- 最終問題 -->
<div id="final" style="display:none;">
<h2>最終問題</h2>
<p>
三つの鍵は揃った。<br><br>
三つをあなたが体験したい順に並び替えよ。
</p>
<input id="finalAnswer">
<br>
<button onclick="checkFinal()">答える</button>
</div>

</div>

<!-- 扉演出 -->
<div id="door" class="section">
<h2>扉は開かれた</h2>
<p>
今回の宿泊先が判明する――
</p>
</div>

<script>

function show(id){
  document.getElementById(id).classList.add("active");
}

function hide(id){
  document.getElementById(id).classList.remove("active");
}

function checkPassword(){
  if(document.getElementById("passwordInput").value === "20250916"){
    hide("passwordBox");
    show("titleScreen");

    setTimeout(()=>{
      hide("titleScreen");
      show("intro");
    },2500);
  } else {
    alert("合言葉が違います");
  }
}

function startGame(){
  hide("intro");
  show("gameArea");
}

function checkQ1(){
  if(a1.value==="みず"){
    k1.innerText="✔ 1つ目の鍵を手に入れた";
    k1.classList.add("show");
    document.getElementById("q2").style.display="block";
  } else alert("ちがいます");
}

function checkQ2(){
  if(a2.value==="ねつ"){
    k2.innerText="✔ 2つ目の鍵を手に入れた";
    k2.classList.add("show");
    document.getElementById("q3").style.display="block";
  } else alert("ちがいます");
}

function checkQ3(){
  if(a3.value==="かぜ"){
    k3.innerText="✔ 3つ目の鍵を手に入れた";
    k3.classList.add("show");
    document.getElementById("final").style.display="block";
  } else alert("ちがいます");
}

function checkFinal(){
  if(finalAnswer.value==="ねつみずかぜ"){
    hide("gameArea");
    show("door");

    setTimeout(()=>{
      document.body.classList.add("fadeOut");
    },2000);

    setTimeout(()=>{
      window.location.href="https://lampinc.co.jp/nojiriko/sauna/";
    },3500);

  } else alert("順番をもう一度考えてみてください");
}

</script>

</body>
</html>
